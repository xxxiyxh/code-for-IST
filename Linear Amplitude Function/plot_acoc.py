import matplotlib.pyplot as plt
import statistics

# 数据部分
data1 = [0.5667192982456141, 0.5473395721925134, 0.5491824644549763, 0.5333161512027492, 0.5546524288107203, 0.5673193760262726, 0.5169410569105691, 0.5232297297297298, 0.508955938697318, 0.5674068901303538, 0.5725078988941549, 0.5731631762652706, 0.5368234323432344, 0.534192573402418, 0.5212661141804789, 0.5709863945578232, 0.5365625, 0.5659856630824374, 0.5552523809523809, 0.5691336633663368, 0.5617121212121213, 0.5570810055865922, 0.5276595744680852, 0.5226851851851853, 0.5558793738489872, 0.5395170454545455, 0.5922523809523811, 0.5450347222222223, 0.5325877192982457, 0.5525761421319798, 0.5334509803921569, 0.5943670309653917, 0.515865539452496, 0.557509009009009, 0.5339722222222223, 0.5217292870905589, 0.5206179775280899, 0.549796849087894, 0.5290807560137458, 0.5435069444444445] # 第一段数据
data2 = [0.5065962441314554, 0.5032072570725707, 0.5402038369304557, 0.5542758620689655, 0.5157218844984803, 0.5367002237136466, 0.5071783625730995, 0.4899564926372156, 0.5089143007360674, 0.50639913899139, 0.5258012820512821, 0.5470415117719951, 0.5295878459687124, 0.5133304696449027, 0.5464904420549582, 0.5225671140939598, 0.5259474885844749, 0.5185326086956522, 0.5399459613196815, 0.5207997762863535, 0.5428976608187135, 0.5452447744774478, 0.5081628787878788, 0.5140891472868218, 0.5271432964329644, 0.5324519230769231, 0.4980895691609977, 0.5142989417989419, 0.5235011778563016, 0.5576456876456878, 0.5355756013745705, 0.5094922737306844, 0.5197562358276645, 0.49001493428912785, 0.5045106761565837, 0.5358990442054958, 0.5382465277777778, 0.5475984009840099, 0.503233104238259, 0.5341063596491229] # 第二段数据
data3 = [0.5128381642512078, 0.5532836644591612, 0.5656827956989248, 0.5579250559284117, 0.5498995271867613, 0.5188333333333334, 0.5597988505747127, 0.5407261904761905, 0.5542449664429531, 0.5459313725490197, 0.5367406311637082, 0.5541904761904762, 0.5397749391727494, 0.5590555555555556, 0.5563968824940049, 0.5225586854460095, 0.5050252525252525, 0.5567773892773894, 0.533467741935484, 0.5654419191919192, 0.5602811860940696, 0.5459883720930233, 0.5423737373737374, 0.5565527577937651, 0.5753423772609819, 0.5129747474747476, 0.5713584474885846, 0.5487132352941178, 0.5193671679197995, 0.5367569002123143, 0.5690769230769231, 0.5135074626865672, 0.5180635491606715, 0.585612582781457, 0.5169675925925926, 0.563812785388128, 0.5541324200913242, 0.530024154589372, 0.5450396825396826, 0.5548863636363637] # 第三段数据
data4 = [0.5517349726775956, 0.5346428571428572, 0.5432592592592593, 0.5530063291139241, 0.5462725225225226, 0.5353125000000001, 0.5720992714025502, 0.5199097664543525, 0.5592495395948435, 0.570405982905983, 0.5207854406130269, 0.5868130630630631, 0.5541939890710383, 0.5528353057199212, 0.5411257309941521, 0.5493238993710693, 0.5315770609318997, 0.553425925925926, 0.5417462845010617, 0.540792181069959, 0.5524482401656315, 0.560291932059448, 0.5312150837988827, 0.5369580777096116, 0.5508333333333334, 0.5429385964912281, 0.5425457875457876, 0.5847699386503068, 0.5379192229038855, 0.5565517241379311, 0.5353354978354979, 0.5378137254901961, 0.5665851449275363, 0.5540789473684211, 0.5380988023952097, 0.5092151162790698, 0.530437384898711, 0.543915270018622, 0.5952457264957266, 0.5354111111111112] # 第四段数据
data5 = [0.5759303797468355, 0.5151382488479264, 0.5054575892857144, 0.5839527629233513, 0.5276137254901961, 0.5236834094368341, 0.5380957943925234, 0.5554242819843342, 0.5263142620232173, 0.5643617886178862, 0.5339149305555556, 0.5588333333333334, 0.546473399833749, 0.5823750000000001, 0.4853180354267311, 0.5314028094153379, 0.5514810426540285, 0.5380513784461154, 0.5658063791554359, 0.5653034420289856, 0.5367228212039533, 0.5214248601119106, 0.5108454692556635, 0.5217565947242206, 0.535993670886076, 0.5359219409282701, 0.5424871134020619, 0.502375, 0.5835112359550562, 0.4869250194250195, 0.5845098039215687, 0.5548996509598604, 0.5375000000000001, 0.5455623973727423, 0.5080555555555556, 0.5361829268292684, 0.5450811209439529, 0.5017619626926197, 0.5274955791335102, 0.6188672922252011] # 第一段数据
data6 = [0.533848897535668, 0.5240067650676508, 0.521976831091181, 0.5218454790823213, 0.5440767634854773, 0.4962261904761905, 0.5353562340966922, 0.5197997416020672, 0.5487710970464136, 0.5038186813186813, 0.5329183535762484, 0.5054465541490859, 0.522974406991261, 0.48977657004830916, 0.5462836257309942, 0.5457779623477299, 0.5377459016393443, 0.5453333333333334, 0.5531615776081426, 0.5189954337899544, 0.4886041666666667, 0.5388051470588235, 0.517982456140351, 0.5214724310776943, 0.5223853211009175, 0.5856032078103208, 0.509074440052701, 0.5139648437500001, 0.5236153846153847, 0.5398838797814208, 0.5066120218579235, 0.5559069611780455, 0.5510814249363868, 0.533230411686587, 0.5431960408684547, 0.5311895674300255, 0.5258065595716199, 0.5040855181023721, 0.5181805555555556, 0.48030934343434345]
data7 = [0.5586072261072261, 0.5461336866902238, 0.531838061465721, 0.5410919540229885, 0.5342630385487528, 0.5580342624854819, 0.5497183098591549, 0.5518012600229095, 0.5603995433789954, 0.5265579710144928, 0.5130043859649123, 0.5393757062146893, 0.5144270833333333, 0.5549625144175316, 0.5488870246085011, 0.5274880525686978, 0.5440380116959065, 0.5616695702671313, 0.5606642512077294, 0.530112293144208, 0.5400842044134727, 0.5425967007963595, 0.5485297619047619, 0.5371201814058957, 0.5266530054644809, 0.5391841491841491, 0.5236831626848691, 0.5619208037825059, 0.5731735159817352, 0.5519158075601375, 0.5368594306049822, 0.49994932432432426, 0.5233185053380782, 0.5336053240740741, 0.543669696969697, 0.5417800453514738, 0.5589732650739476, 0.5731301531213192, 0.5648587081891581, 0.5668006993006993]  # 第一段数据
data8 = [0.5496003401360545, 0.5446993127147767, 0.5305886850152906, 0.5336658456486043, 0.5564835164835165, 0.5405952380952381, 0.5706720430107528, 0.5621172248803828, 0.559578853046595, 0.5476591289782244, 0.5520103092783506, 0.5526483420593369, 0.5337871287128714, 0.5556094527363185, 0.5833205128205129, 0.5299420677361855, 0.5357686084142396, 0.5760416666666668, 0.5383812260536399, 0.527593062605753, 0.5420894909688013, 0.5495304568527919, 0.52234934086629, 0.5596057347670251, 0.5354166666666668, 0.5361837606837607, 0.549988038277512, 0.5193509212730318, 0.5364833333333334, 0.5273775894538607, 0.5736674718196457, 0.5410768645357688, 0.555343137254902, 0.5484604519774012, 0.5482474226804124, 0.5832698815566837, 0.5532771535580525, 0.5108776595744682, 0.5462085514834207, 0.5596815008726004] # 第二段数据
data9 = [0.5770990749240873, 0.5416272959647999, 0.5674743709226469, 0.5446523457014397, 0.537061143984221, 0.5361909968151352, 0.5517706652322036, 0.5686427939876215, 0.5516420157501158, 0.5423098683818712, 0.5604682712680822, 0.5660577555781541, 0.5512712273042092, 0.5579132518942322, 0.54432716568545, 0.5330277463549523, 0.5286292112662162, 0.5693850901161036, 0.5762673602591157, 0.5423032252300545, 0.5396154593617183, 0.5489512781297793, 0.5416108886631208, 0.5330985544411853, 0.523708939369178, 0.5613964736606246, 0.566400699242987, 0.5323294252024053, 0.5398705346439703, 0.5498932723461025, 0.571147237642083, 0.5570896680111698, 0.5452006354088332, 0.526963601532567, 0.5569968269269391, 0.5673147492697375, 0.5714260899774188, 0.5322197982001636, 0.5598228408731414, 0.5474346365052045, 0.5538652106187651, 0.5677242510575844, 0.5510212923991087, 0.5701878538342768, 0.5514746020406294, 0.5581856268127618, 0.5469908227972744, 0.5609870680945646, 0.5607065544432202, 0.5385716963129558]
data10 = [0.5883987135811258, 0.543067139899438, 0.5445160266582038, 0.553052955946131, 0.5576491724738677, 0.5406778587266392, 0.5865616808951862, 0.5459507003899527, 0.5639642145274186, 0.5548291732455404, 0.5673280045675135, 0.5622741188769416, 0.5770032314256142, 0.5554975442107898, 0.5732578043092197, 0.5549975755616616, 0.5687136996872588, 0.5907895976077795, 0.5294967381174278, 0.5664975144987573, 0.54797176543194, 0.5581040248304286, 0.5834612889273356, 0.5424356323999249, 0.545853167787211, 0.5659559261465159, 0.5831480876103303, 0.5328070940299925, 0.5462640340689121, 0.5492585680136014, 0.5477147749349666, 0.5257455719163466, 0.5626370407565487, 0.5875828038393944, 0.5647861304047918, 0.559139126886985, 0.5086187165622408, 0.5536991765311374, 0.512122418259976, 0.5310287368881119, 0.5347884059215222, 0.5751349020079838, 0.5426448813746083, 0.5742682011508633, 0.5496775150122322, 0.5219708222811671, 0.5546412039901979, 0.5452041990221456, 0.5530428906045446, 0.5420827480526115]
# 计算方差
variance1 = statistics.variance(data1)
variance2 = statistics.variance(data2)
variance3 = statistics.variance(data3)
#variance4 = statistics.variance(data4)

# 打印方差值
print("Data1 Variance:", variance1)
print("Data2 Variance:", variance2)
print("Data3 Variance:", variance3)
#print("Data4 Variance:", variance4)

# 创建箱线图，设置图形大小为6x9英寸
fig, ax = plt.subplots(figsize=(9,6))

# 绘制箱线图，设置patch_artist=True以允许填充箱体颜色
bp = ax.boxplot([data1, data2, data3, data4, data5, data6, data7, data8, data9, data10], patch_artist=True, medianprops=dict(color='black', linewidth=2))

# 统一设置每个箱体的颜色
uniform_color = '#8B4726'  # 选择统一颜色
for patch in bp['boxes']:
    patch.set_facecolor(uniform_color)

# 设置x轴和y轴的标签，增大字体大小
#ax.set_xticklabels(['RT', 'RPT', 'DRT', 'D-DRT'], fontsize=16)
ax.tick_params(axis='y', labelsize=20)  # 增大y轴字体大小

# 设置y轴的具体刻度值
ax.set_yticks([0.46,0.5,0.55,0.6])

plt.ylabel('APFD', fontsize=24)
plt.tick_params(axis='both', which='major', labelsize=20)
plt.xticks(rotation=45)
plt.xlabel('m', fontsize=24)
plt.tight_layout()
# 计算平均值
means = [statistics.mean(data1), statistics.mean(data2), statistics.mean(data3), statistics.mean(data4), statistics.mean(data5), statistics.mean(data6), statistics.mean(data7), statistics.mean(data8), statistics.mean(data9), statistics.mean(data10)]
mean_of_all = statistics.mean(means)
ax.axhline(y=0.4812312859, color='black', linestyle='--')
print(mean_of_all)


# 关闭坐标轴的网格线
ax.grid(False)

plt.show()
