import matplotlib.pyplot as plt
import statistics

# 数据部分
data1 = [0.5450625000000001, 0.5384368191721134, 0.49521241830065366, 0.5591444444444444, 0.5327843137254903, 0.5280020080321286, 0.5646362799263352, 0.5634935897435898, 0.5585569105691057, 0.5313109756097562, 0.528701814058957, 0.5538269639065818, 0.5336337868480726, 0.5792031630170317, 0.5696544715447155, 0.5767444444444445, 0.5358653846153847, 0.5874900199600799, 0.5593148148148148, 0.5628564547206166, 0.5684623015873016, 0.5857326621923937, 0.5726190476190477, 0.5316452991452992, 0.5468696581196582, 0.5710185185185186, 0.5664345991561182, 0.5806329690346084, 0.5531226053639847, 0.559513422818792, 0.550088888888889, 0.5472003745318352, 0.5888963963963965, 0.5324242424242425, 0.565491967871486, 0.5365955284552846, 0.5377043010752689, 0.5539488636363638, 0.5617397660818715, 0.5290883668903804] # 第一段数据
data2 = [0.5250625000000001, 0.5184368191721134, 0.47521241830065364, 0.5391444444444444, 0.5127843137254903, 0.5080020080321286, 0.5446362799263352, 0.5434935897435897, 0.5385569105691057, 0.5113109756097561, 0.508701814058957, 0.5338269639065818, 0.5136337868480726, 0.5592031630170317, 0.5496544715447155, 0.5567444444444445, 0.5158653846153847, 0.5674900199600799, 0.5393148148148148, 0.5428564547206166, 0.5484623015873016, 0.5657326621923937, 0.5526190476190477, 0.5116452991452992, 0.5268696581196581, 0.5510185185185186, 0.5464345991561181, 0.5606329690346084, 0.5331226053639847, 0.539513422818792, 0.5300888888888889, 0.5272003745318352, 0.5688963963963964, 0.5124242424242424, 0.545491967871486, 0.5165955284552846, 0.5177043010752689, 0.5339488636363637, 0.5417397660818715, 0.5090883668903804]  # 第二段数据
data3 = [0.5836072261072262, 0.5711336866902238, 0.556838061465721, 0.5660919540229885, 0.5592630385487528, 0.583034262485482, 0.574718309859155, 0.5768012600229095, 0.5853995433789955, 0.5515579710144928, 0.5380043859649123, 0.5643757062146894, 0.5394270833333333, 0.5799625144175317, 0.5738870246085012, 0.5524880525686978, 0.5690380116959065, 0.5866695702671313, 0.5856642512077295, 0.5551122931442081, 0.5650842044134727, 0.5675967007963595, 0.5735297619047619, 0.5621201814058957, 0.5516530054644809, 0.5641841491841492, 0.5486831626848692, 0.5869208037825059, 0.5981735159817352, 0.5769158075601375, 0.5618594306049822, 0.5249493243243243, 0.5483185053380782, 0.5586053240740741, 0.568669696969697, 0.5667800453514739, 0.5839732650739476, 0.5981301531213192, 0.5898587081891581, 0.5918006993006993]  # 第三段数据
data4 = [0.5694976359338061, 0.5612188208616781, 0.5697057205720572, 0.5769942528735633, 0.5686583924349883, 0.5874940047961631, 0.587454802259887, 0.5549716553287982, 0.5868836477987421, 0.5789444444444445, 0.5716114982578397, 0.5597779700115341, 0.5251038159371493, 0.5287214611872146, 0.5746195652173913, 0.5484892086330936, 0.5535127314814815, 0.5806720430107527, 0.6119627594627595, 0.5646189591078067, 0.557673860911271, 0.5774833333333333, 0.5772309941520468, 0.5508906071019474, 0.5542083333333333, 0.5783509389671362, 0.5682473309608541, 0.5443952062430323, 0.5570598591549296, 0.5745333333333333, 0.562791095890411, 0.567999419279907, 0.5813357843137256, 0.5568030303030304, 0.5872828638497652, 0.6038413242009132, 0.5701198630136987, 0.5751737338044759, 0.583560070671378, 0.5208451536643026]  # 第四段数据
data5 = [0.5196321321321322, 0.5290394402035623, 0.48965517241379314, 0.5613095238095238, 0.5523846153846155, 0.5902371273712737, 0.538678861788618, 0.5802222222222222, 0.5680833333333333, 0.6136003236245955, 0.5422101449275363, 0.6069385964912282, 0.5370565749235474, 0.5615170940170939, 0.571578947368421, 0.5041352201257863, 0.515429292929293, 0.5505687830687831, 0.56345, 0.5496040189125295, 0.5489057971014493, 0.5201368159203981, 0.4496693121693122, 0.5777777777777777, 0.5686282051282052, 0.5727645502645502, 0.5766062801932368, 0.5417320261437908, 0.5488910761154855, 0.549220867208672, 0.5248389355742298, 0.5677923976608188, 0.5505246913580246, 0.5772200000000001, 0.5104427083333334, 0.5299380165289256, 0.5622786458333333, 0.5584039548022599, 0.4698446327683616, 0.5515885416666666] # 第一段数据
data6 = [0.5196321321321322, 0.5290394402035623, 0.48965517241379314, 0.5613095238095238, 0.5523846153846155, 0.5902371273712737, 0.538678861788618, 0.5802222222222222, 0.5680833333333333, 0.6136003236245955, 0.5422101449275363, 0.6069385964912282, 0.5370565749235474, 0.5615170940170939, 0.571578947368421, 0.5041352201257863, 0.515429292929293, 0.5505687830687831, 0.56345, 0.5496040189125295, 0.5489057971014493, 0.5201368159203981, 0.4496693121693122, 0.5777777777777777, 0.5686282051282052, 0.5727645502645502, 0.5766062801932368, 0.5417320261437908, 0.5488910761154855]
data7 = [0.5557364341085271, 0.5641579406631763, 0.5498353293413174, 0.5169412878787878, 0.5419295900178254, 0.5219747474747474, 0.535891812865497, 0.5085055865921788, 0.5472870370370371, 0.5292708333333334, 0.521239837398374, 0.5412957610789981, 0.545332422586521, 0.5079968944099378, 0.5749423480083855, 0.5589907407407406, 0.5297061657032756, 0.5512254901960785, 0.5279255319148937, 0.500510101010101, 0.5272619047619047, 0.525931952662722, 0.5448443223443222, 0.5588261648745521, 0.5202914110429449, 0.5494496855345912, 0.5538450292397659, 0.5655068728522334, 0.5339880952380952, 0.5491945996275605, 0.5841865079365078, 0.531671171171171, 0.5235848126232743, 0.5744444444444443, 0.5128395061728395, 0.5373007246376811, 0.539429292929293, 0.5578333333333333, 0.5606290322580645, 0.533168789808917, 0.5655607966457021, 0.5315435606060606, 0.5318248945147679, 0.5540581854043392, 0.5724904214559385, 0.5572916666666665, 0.5569139194139193, 0.5570164609053496, 0.5284451219512195, 0.5420580110497237, 0.5795944741532975, 0.5533870967741935, 0.5654761904761902, 0.5298559670781893, 0.5327504816955684, 0.5247604166666666, 0.5706051587301586, 0.5748535353535351, 0.5502600849256899, 0.5490226337448558, 0.5363666666666667, 0.547581799591002, 0.5306470588235295, 0.5324056603773585, 0.5548314606741571, 0.5547565543071161, 0.5400047619047619, 0.5681060606060604, 0.544546783625731, 0.521843137254902, 0.5092197452229299, 0.562940251572327, 0.5968981481481481, 0.5484259259259259, 0.5237770562770562, 0.5481589147286821, 0.5314102564102564, 0.5754727095516567, 0.5163235294117645, 0.5297083333333332] # 第一段数据
data8 = [0.5513690476190476, 0.5040238095238094, 0.5145424836601307, 0.5092171717171716, 0.5500490196078431, 0.5827873563218389, 0.5154591836734693, 0.5241993464052287, 0.5630492424242424, 0.5560815602836877, 0.5394753086419752, 0.46168300653594757, 0.5037380952380952, 0.5619542772861355, 0.4953178694158074, 0.5260460992907801, 0.5316590214067278, 0.5702304964539007, 0.5719736842105263, 0.5445471014492753, 0.5649311926605505, 0.5375000000000001, 0.5815378006872851, 0.5445390070921985, 0.5628436426116838, 0.5454166666666667, 0.5254326923076924, 0.5705166666666666, 0.5391166666666667, 0.5587462462462462, 0.5328479853479853, 0.5653235294117647, 0.524201754385965, 0.5280020080321286, 0.5492857142857144, 0.5427040816326532, 0.5437459546925567, 0.5289641744548286, 0.545891812865497, 0.5166100323624596, 0.5637886597938144, 0.5575673400673401, 0.6016358024691357, 0.49957446808510636, 0.5706746031746031, 0.559656862745098, 0.5570019157088122, 0.5509509803921568, 0.5767124542124542, 0.5836214953271028, 0.5486952861952863, 0.5437745098039215, 0.5347222222222223, 0.5740686274509803, 0.5624826388888888, 0.5418906810035842, 0.5376515151515151, 0.559513201320132, 0.6021315789473685, 0.5435648148148149, 0.564798245614035, 0.5558676975945017, 0.5307936507936508, 0.5800076452599388, 0.5783823529411765, 0.549513201320132, 0.5206325301204819, 0.5700471698113208, 0.527139175257732, 0.4796305841924399, 0.53671768707483, 0.5488194444444445, 0.5511458333333332, 0.5520454545454546, 0.5766929824561404, 0.543439393939394, 0.5287421383647799, 0.5281666666666667, 0.5497959183673469, 0.5263314176245211] # 第二段数据

# 计算方差
variance1 = statistics.variance(data1)
variance2 = statistics.variance(data2)
variance3 = statistics.variance(data3)
#variance4 = statistics.variance(data4)

# 打印方差值
print("Data1 Variance:", variance1)
print("Data2 Variance:", variance2)
print("Data3 Variance:", variance3)
#print("Data4 Variance:", variance4)

# 创建箱线图，设置图形大小为6x9英寸
fig, ax = plt.subplots(figsize=(9,6))

# 绘制箱线图，设置patch_artist=True以允许填充箱体颜色
bp = ax.boxplot([data1, data2, data3, data4, data5, data6, data7, data8], patch_artist=True, medianprops=dict(color='black', linewidth=2))

# 统一设置每个箱体的颜色
uniform_color = '#8B4726'  # 选择统一颜色
for patch in bp['boxes']:
    patch.set_facecolor(uniform_color)

# 设置x轴和y轴的标签，增大字体大小
#ax.set_xticklabels(['RT', 'RPT', 'DRT', 'D-DRT'], fontsize=16)
ax.tick_params(axis='y', labelsize=20)  # 增大y轴字体大小

# 设置y轴的具体刻度值
ax.set_yticks([0.46,0.5,0.55,0.6])

plt.ylabel('APFD', fontsize=24)
plt.tick_params(axis='both', which='major', labelsize=20)
plt.xticks(rotation=45)
plt.xlabel('m', fontsize=24)
plt.tight_layout()

# 计算平均值
means = [statistics.mean(data1), statistics.mean(data2), statistics.mean(data3), statistics.mean(data4), statistics.mean(data5), statistics.mean(data6), statistics.mean(data7), statistics.mean(data8)]
mean_of_all = statistics.mean(means)
ax.axhline(y=0.4812312859, color='black', linestyle='--')
print(mean_of_all)


# 关闭坐标轴的网格线
ax.grid(False)

plt.show()
