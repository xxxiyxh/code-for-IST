import matplotlib.pyplot as plt
import statistics

# 数据部分
data1 = [0.5638314711359406, 0.5630964912280703, 0.5533527131782946, 0.5550714285714287, 0.5831544502617801, 0.5393464052287582, 0.5867091836734695, 0.5770486111111112, 0.5610460992907802, 0.5366025641025641, 0.5237072072072073, 0.5530617977528091, 0.5290730337078653, 0.5824828178694158, 0.5798539518900344, 0.5608517495395949, 0.584076354679803, 0.5545909090909091, 0.5730100182149364, 0.5675078616352202, 0.5380902777777778, 0.5774666666666667, 0.5606174438687392, 0.551427392739274, 0.5511966824644551, 0.5555829015544043, 0.57322695035461, 0.5439357429718876, 0.5558437500000001, 0.5366754385964912, 0.5543738738738739, 0.5608003300330033, 0.5534870550161813, 0.5283430232558141, 0.5580613126079448, 0.5475448028673836, 0.5425462962962964, 0.5445726495726496, 0.5718452380952382, 0.5569158075601375]  # 第一段数据
data2 = [0.5887632696390659, 0.5666666666666668, 0.5579545454545455, 0.5794760479041917, 0.5385790598290598, 0.5387984496124032, 0.563667728237792, 0.5897639691714837, 0.5261003683241253, 0.5254607843137256, 0.5824813780260708, 0.5510769980506823, 0.5282961783439492, 0.5441666666666667, 0.5581318082788672, 0.531459595959596, 0.5567843691148776, 0.5578812636165579, 0.5678057199211046, 0.5628655913978495, 0.6082643312101911, 0.5142123287671233, 0.5381392694063928, 0.5455220883534138, 0.5403989898989899, 0.6150421940928271, 0.5529777070063695, 0.5236643835616439, 0.5604503105590063, 0.5243987341772153, 0.5238805970149254, 0.5356573498964804, 0.525107843137255, 0.5578263403263404, 0.5471516007532957, 0.5539420803782507, 0.52628587196468, 0.5237820512820514, 0.5396556886227546, 0.5479240631163709]  # 第二段数据
data3 = [0.5468898456352094, 0.5724132203952831, 0.5743909246125558, 0.5682146618659222, 0.5685118450263054, 0.581209483657464, 0.5552707033226513, 0.5468677090500708, 0.5412250392165175, 0.5289042277825713, 0.5363690425276261, 0.5415585401768322, 0.5613994271080838, 0.5830503130318502, 0.5501157918855666, 0.5794018426232866, 0.5590291784321635, 0.5718239837040944, 0.5620456035279044, 0.5808704651245424, 0.5610103955375254, 0.5776230661040787, 0.557548125633232, 0.580218377765173, 0.5819616920175374, 0.5543231510613724, 0.5602670828997571, 0.5706296889048061, 0.552612911432038, 0.5452470578054689, 0.5628526533819013, 0.5620802904390163, 0.5595671737733019, 0.5606932116824516, 0.5682438872392683, 0.5427195331129984, 0.5511043392196697, 0.551562106883334, 0.5633035396223971, 0.5895465531736023]  # 第三段数据
data4 = [0.5589284922640423, 0.5637732480107371, 0.5783356287300196, 0.5576162574855131, 0.566822915950715, 0.5882886002886002, 0.5794847972385186, 0.5680839550520401, 0.53697175710269, 0.5833867994663571, 0.5809990297059261, 0.5589065429379018, 0.556293445878848, 0.5892868482885628, 0.5834836293007769, 0.5915393118031527, 0.5723442093305107, 0.5500926784059315, 0.5565342881944444, 0.5827684053036166, 0.5746865243871231, 0.5953157104472894, 0.5729308265540151, 0.5932930952864002, 0.5743563299498815, 0.5792841887650013, 0.5777568949691858, 0.6019882232684031, 0.5840919230507863, 0.6037745237064569, 0.5644421511294577, 0.5618310664379829, 0.5856402014357656, 0.5833423092113025, 0.5616297922114286, 0.5868440454506028, 0.5691922927054258, 0.5756899512740634, 0.5822149415899416, 0.595909734947168]  # 第四段数据
data5 = [0.5859303797468355, 0.5251382488479264, 0.5154575892857144, 0.5939527629233513, 0.5376137254901961, 0.5336834094368341, 0.5480957943925234, 0.5654242819843343, 0.5363142620232173, 0.5743617886178862, 0.5439149305555556, 0.5688333333333334, 0.556473399833749, 0.5923750000000001, 0.49531803542673114, 0.5414028094153379, 0.5614810426540285, 0.5480513784461154, 0.5758063791554359, 0.5753034420289856, 0.5467228212039533, 0.5314248601119106, 0.5208454692556636, 0.5317565947242207, 0.545993670886076, 0.5459219409282701, 0.5524871134020619, 0.512375, 0.5935112359550562, 0.49692501942501954, 0.5945098039215687, 0.5648996509598604, 0.5475000000000001, 0.5555623973727423, 0.5180555555555556, 0.5461829268292684, 0.5550811209439529, 0.5117619626926198, 0.5374955791335102, 0.6288672922252011] 
data6 = [0.553848897535668, 0.5440067650676508, 0.541976831091181, 0.5418454790823213, 0.5640767634854773, 0.5162261904761906, 0.5553562340966922, 0.5397997416020672, 0.5687710970464136, 0.5238186813186814, 0.5529183535762484, 0.5254465541490859, 0.542974406991261, 0.5097765700483092, 0.5662836257309942, 0.5657779623477299, 0.5577459016393443, 0.5653333333333335, 0.5731615776081426, 0.5389954337899544, 0.5086041666666667, 0.5588051470588236, 0.537982456140351, 0.5414724310776943, 0.5423853211009175, 0.6056032078103208, 0.529074440052701, 0.5339648437500001, 0.5436153846153847, 0.5598838797814208, 0.5266120218579236, 0.5759069611780455, 0.5710814249363868, 0.553230411686587, 0.5631960408684548, 0.5511895674300256, 0.5458065595716199, 0.5240855181023721, 0.5381805555555557, 0.5003093434343435]

# 计算方差
variance1 = statistics.variance(data1)
variance2 = statistics.variance(data2)
variance3 = statistics.variance(data3)
#variance4 = statistics.variance(data4)

# 打印方差值
print("Data1 Variance:", variance1)
print("Data2 Variance:", variance2)
print("Data3 Variance:", variance3)
#print("Data4 Variance:", variance4)

# 创建箱线图，设置图形大小为6x9英寸
fig, ax = plt.subplots(figsize=(9,6))

# 绘制箱线图，设置patch_artist=True以允许填充箱体颜色
bp = ax.boxplot([data1, data2, data3, data4, data5, data6], patch_artist=True, medianprops=dict(color='black', linewidth=2))

# 统一设置每个箱体的颜色
uniform_color = '#8B1A1A'  # 选择统一颜色
for patch in bp['boxes']:
    patch.set_facecolor(uniform_color)

# 设置x轴和y轴的标签，增大字体大小
#ax.set_xticklabels(['RT', 'RPT', 'DRT', 'D-DRT'], fontsize=16)
ax.tick_params(axis='y', labelsize=20)  # 增大y轴字体大小

# 设置y轴的具体刻度值
ax.set_yticks([0.45,0.5,0.55,0.6,0.65])

plt.ylabel('APFD', fontsize=24)
plt.tick_params(axis='both', which='major', labelsize=20)
plt.xticks(rotation=45)
plt.xlabel('m', fontsize=24)
plt.tight_layout()


# 计算平均值
means = [statistics.mean(data1), statistics.mean(data2), statistics.mean(data3), statistics.mean(data4), statistics.mean(data5), statistics.mean(data6)]
mean_of_all = statistics.mean(means)
ax.axhline(y=0.503948588291, color='black', linestyle='--')

print(mean_of_all)

# 关闭坐标轴的网格线
ax.grid(False)

plt.show()
