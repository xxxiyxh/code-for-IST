import matplotlib.pyplot as plt
import statistics

# 数据部分
data1 = [0.589888888888889, 0.5856560283687945, 0.5740277777777779, 0.5927005012531329, 0.5669082125603866, 0.6168246187363836, 0.5437468193384225, 0.5558950617283952, 0.5842016317016318, 0.581857142857143, 0.590435982339956, 0.6000952380952381, 0.5710000000000001, 0.5303941441441442, 0.6126604938271606, 0.5909047619047619, 0.5711713286713288, 0.6088286713286714, 0.5371843434343435, 0.6106585081585082, 0.5740562913907286, 0.579927293064877, 0.6198529411764707, 0.5716103603603605, 0.5932855626326965, 0.5375390625, 0.5670098039215687, 0.5918452380952383, 0.6066258741258742, 0.5540096618357488, 0.6015222222222223, 0.5832683982683984, 0.5995567375886526, 0.5833802816901409, 0.504703196347032, 0.5811480186480188, 0.5765131578947369, 0.5700219298245615, 0.6124224806201551, 0.5396990740740741]   # 第一段数据
data2 = [0.589888888888889, 0.5856560283687945, 0.5740277777777779, 0.5927005012531329, 0.5669082125603866, 0.6168246187363836, 0.5437468193384225, 0.5558950617283952, 0.5842016317016318, 0.581857142857143, 0.590435982339956, 0.6000952380952381, 0.5710000000000001, 0.5303941441441442, 0.6126604938271606, 0.5909047619047619, 0.5711713286713288, 0.6088286713286714, 0.5371843434343435, 0.6106585081585082, 0.5740562913907286, 0.579927293064877, 0.6198529411764707, 0.5716103603603605, 0.5932855626326965, 0.5375390625, 0.5670098039215687, 0.5918452380952383, 0.6066258741258742, 0.5540096618357488, 0.6015222222222223, 0.5832683982683984, 0.5995567375886526, 0.5833802816901409, 0.504703196347032, 0.5811480186480188, 0.5765131578947369, 0.5700219298245615, 0.6124224806201551, 0.5396990740740741]  # 第二段数据
data3 = [0.5575862068965518, 0.5824354281065691, 0.5458333333333334, 0.5844022415278118, 0.600484949832776, 0.5168213572854291, 0.6115340382118346, 0.5717702169625247, 0.6033641975308642, 0.6134944751381216, 0.5654096045197741, 0.602128514056225, 0.5713995726495728, 0.5675316455696203, 0.5812474747474748, 0.5417096870853132, 0.626162767244857, 0.5516354166666667, 0.5019863731656184, 0.6618709836875927, 0.6151525423728814, 0.5508701657458565, 0.5367708333333334, 0.5673301486199577, 0.5626495726495727, 0.5432855626326965, 0.5182246376811595, 0.5765625000000001, 0.5434510357815443, 0.5669632768361583, 0.5839513108614233, 0.5582352941176472, 0.571686507936508, 0.5650730994152048, 0.5347009243047356, 0.5528934817170112, 0.5516325536062379, 0.5534756097560977, 0.5780959595959597, 0.5911094674556213]
data4 = [0.5513367036260682, 0.5567787657009214, 0.6087632494858409, 0.5830620907106476, 0.5378686125613036, 0.5825286330507216, 0.5969291415412837, 0.5746665875065555, 0.5899075149673845, 0.5814157527417748, 0.6027220838522209, 0.5840155755658312, 0.5523627947118591, 0.5887814062596457, 0.5576456964130178, 0.5611328767850507, 0.5304658067158067, 0.5710278840896665, 0.5950868523510033, 0.6005360776789349, 0.5569593466128967, 0.6079287406795505, 0.5502523112480739, 0.6046916811491029, 0.6071419637273296, 0.5951566599783917, 0.5754159592529712, 0.5692023928215354, 0.6165845626975764, 0.577622089721749, 0.6173619562767636, 0.5890903945208581, 0.5518233498262975, 0.6027813812733449, 0.5596776239081965, 0.5941144076257738, 0.5943005885977775, 0.5972471353493582, 0.5913160648874936, 0.602863610639502]
data5 = [0.5538368818294469, 0.5109775185499649, 0.5756273764258555, 0.5597461517688361, 0.5605041057245052, 0.5905267175572521, 0.5246576151121605, 0.5720850978019763, 0.6074048949824042, 0.5728718517345162, 0.5925008117410222, 0.5884481991996443, 0.6222897196261683, 0.5831031621940714, 0.5818308202968013, 0.5764208555379519, 0.5912764142897755, 0.6337820304342616, 0.588208405407137, 0.5635976789168279, 0.607063449281796, 0.5750253367939687, 0.6039598664324487, 0.5598263043199591, 0.6094971788914704, 0.5914224137931035, 0.5711673447882212, 0.5357060255629945, 0.644734993614304, 0.5944206679046188, 0.5593254774481918, 0.6407300085419542, 0.545018817567061, 0.5982928818425003, 0.6035198443703857, 0.5933620689655174, 0.5728254875636973, 0.5418233115852584, 0.5804156862745099, 0.6371338383838385]

data6 = [0.5998627002288329, 0.6532300884955753, 0.6378514739229024, 0.6306795422031474, 0.5689443436176649, 0.5997619599659944, 0.6405744712764362, 0.6193159173380897, 0.5588274104063579, 0.6071218587008061, 0.6180010204660129, 0.6363381966036834, 0.5958973884623686, 0.603006703751248, 0.6319258006866737, 0.5630695850377204, 0.5817080139321508, 0.6038656166344094, 0.6201184585395112, 0.5909688636004425, 0.5570115658224499, 0.6322519433013261, 0.6211756282126653, 0.6338330606042897, 0.651165033680343, 0.5648888663204016, 0.6044162234855431, 0.571815373330136, 0.6361180707198406, 0.6090976896488995, 0.5840402404347982, 0.6302549167815275, 0.6025019069412663, 0.6120739178177195, 0.5777463451680274, 0.5979923558444685, 0.5946808571592277, 0.6320490110596118, 0.577658145176339, 0.6171151992743353]
data7 = [0.5746050096339115, 0.5781809362114966, 0.5784644821043832, 0.5954381815792932, 0.604147553047958, 0.5981076867729944, 0.5694507510606582, 0.594131607335491, 0.6073899613899615, 0.5828517110266161, 0.5666932685634976, 0.5485644720165432, 0.6318780965549028, 0.591591459721381, 0.6032677786075846, 0.564754395167431, 0.5998864132809087, 0.6143263139873311, 0.549494176951156, 0.5847099087353325, 0.6110515116869919, 0.5900428849902535, 0.588403102684068, 0.5696397437590808, 0.569367104678474, 0.5613655289887073, 0.6122908434007001, 0.5744637294170005, 0.5600851560719983, 0.5578301886792453, 0.6354555121081156, 0.597041791219741, 0.5519592784425791, 0.6010475602595565, 0.5541116988905015, 0.5876600191279092, 0.5603260744325383, 0.5569135318704285, 0.5795183395851883, 0.6024668814894379]
data8 = [0.5748188659073153, 0.5714925638318997, 0.5887146076222202, 0.6022144946509298, 0.6142312606473594, 0.6202199357613372, 0.5502411167512691, 0.5952410409556314, 0.5885826876836763, 0.5572540718019614, 0.5898554805582013, 0.5578616745599142, 0.5462442396313364, 0.5905604852057106, 0.5799778378617969, 0.5994609994448693, 0.5353580117163933, 0.5916848097473285, 0.5725454920300784, 0.59168269855713, 0.567910906788409, 0.5801910507792861, 0.5789981967541575, 0.6115180102915952, 0.5792083978661161, 0.5892261638816907, 0.5943230720819453, 0.6057303436566945, 0.5768860580325549, 0.5850308341447583, 0.5945107621919519, 0.5933748504055671, 0.5705814950249026, 0.6029761720392044, 0.5505249524764472, 0.6017697256724154, 0.5991397505596419, 0.5764128163454841, 0.5556457336194092, 0.6004460208741031]
data9 = [0.5506308031439959, 0.6177979006172006, 0.6288451086956522, 0.5999149697918998, 0.5471038393282258, 0.5769289474758194, 0.5266390770002508, 0.5998046833980889, 0.6442693931296232, 0.5699392071238977, 0.5473568418203612, 0.5889957264957265, 0.5487982832618026, 0.6020825888824204, 0.5848769762747097, 0.6072953632407099, 0.601744555353902, 0.595980562579014, 0.6059399973797983, 0.5688507169682486, 0.5972682813227761, 0.5738694402164721, 0.5669773552824794, 0.5394047931426572, 0.582904342094422, 0.6208747563352828, 0.583403237674761, 0.5460478186760032, 0.6117038852578068, 0.5878010773374376, 0.5681619558154646, 0.5362474969963957, 0.5426431683324463, 0.5790526525727961, 0.6034828234828236, 0.5581624401423542, 0.5669096295060081, 0.5393275488069414, 0.6126486342910267, 0.5966310748721931]
# 计算方差
variance1 = statistics.variance(data1)
variance2 = statistics.variance(data2)
variance3 = statistics.variance(data3)
#variance4 = statistics.variance(data4)

# 打印方差值
print("Data1 Variance:", variance1)
print("Data2 Variance:", variance2)
print("Data3 Variance:", variance3)
#print("Data4 Variance:", variance4)

# 创建箱线图，设置图形大小为6x9英寸
fig, ax = plt.subplots(figsize=(9,6))

# 绘制箱线图，设置patch_artist=True以允许填充箱体颜色
bp = ax.boxplot([data1, data2, data3, data4, data5, data6, data7, data8, data9], patch_artist=True, medianprops=dict(color='black', linewidth=2))

# 统一设置每个箱体的颜色
uniform_color = '#7A378B'  # 选择统一颜色
for patch in bp['boxes']:
    patch.set_facecolor(uniform_color)

# 设置x轴和y轴的标签，增大字体大小
#ax.set_xticklabels(['RT', 'RPT', 'DRT', 'D-DRT'], fontsize=16)
ax.tick_params(axis='y', labelsize=20)  # 增大y轴字体大小

# 设置y轴的具体刻度值
ax.set_yticks([0.45,0.5,0.55,0.6,0.65,0.6,0.65])

plt.ylabel('APFD', fontsize=24)
plt.tick_params(axis='both', which='major', labelsize=20)
plt.xticks(rotation=45)
plt.xlabel('m', fontsize=24)
plt.tight_layout()

# 计算平均值
means = [statistics.mean(data1), statistics.mean(data2), statistics.mean(data3), statistics.mean(data4), statistics.mean(data5), statistics.mean(data6), statistics.mean(data7), statistics.mean(data8), statistics.mean(data9)]
mean_of_all = statistics.mean(means)
ax.axhline(y=0.50919018573, color='black', linestyle='--')

print(mean_of_all)

# 关闭坐标轴的网格线
ax.grid(False)

plt.show()
