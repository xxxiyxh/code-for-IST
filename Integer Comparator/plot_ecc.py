import matplotlib.pyplot as plt
import statistics

# 数据部分
data1 = [0.6634433962264151, 0.5608333333333334, 0.5279716981132077, 0.5765625000000001, 0.5749074074074075, 0.4917013888888889, 0.5892307692307693, 0.6292796610169492, 0.5875, 0.5310151515151516, 0.5460317460317461, 0.5757738095238095, 0.6962037037037038, 0.5001729559748428, 0.5452450980392157, 0.5405606060606062, 0.5644444444444445, 0.5110833333333334, 0.5071540880503146, 0.5736515151515152, 0.5580555555555556, 0.5636635220125786, 0.555765306122449, 0.5684000000000001, 0.520348484848485, 0.59125, 0.6022619047619048, 0.541053459119497, 0.5349149659863947, 0.56625, 0.610409090909091, 0.5182142857142857, 0.48783333333333345, 0.5204787234042554, 0.5277011494252875, 0.49869047619047624, 0.4967628205128206, 0.5857513661202186, 0.5736309523809525, 0.5339, 0.5187333333333334, 0.5716071428571429, 0.5817372881355932, 0.572962962962963, 0.5522756410256411, 0.5154320987654322, 0.5490536723163842, 0.5616666666666668, 0.5569814814814815, 0.5529088050314466, 0.5226257861635221, 0.5379814814814815, 0.5970666666666667, 0.5313782051282052, 0.5927380952380953, 0.5710507246376813, 0.6391326530612246, 0.5808898305084746, 0.567746913580247, 0.5800320512820514, 0.5763679245283019, 0.5266515151515152, 0.5241666666666668, 0.6035277777777778, 0.6315705128205129, 0.5158333333333334, 0.5877666666666667, 0.5435416666666667, 0.5550163398692811, 0.5641666666666668, 0.5679807692307693, 0.545, 0.6019736842105264, 0.4950000000000001, 0.5977121212121214, 0.578409090909091, 0.5816666666666667, 0.5413297872340427, 0.6014361702127661, 0.5561728395061729]  # 第一段数据
data2 = [0.5919540229885057, 0.5384929078014186, 0.6177298850574714, 0.5342346938775511, 0.5928086419753087, 0.5340503875968993, 0.5369135802469136, 0.5403333333333334, 0.5249, 0.6055128205128205, 0.5844551282051283, 0.5451315789473685, 0.49750000000000005, 0.6480555555555556, 0.5702551020408164, 0.5554787234042554, 0.5564455782312926, 0.6135666666666667, 0.5565705128205128, 0.5684803921568627, 0.5918181818181819, 0.5719897959183674, 0.576748366013072, 0.5080459770114943, 0.5316666666666667, 0.5340432098765433, 0.5992460317460319, 0.5602272727272728, 0.5752906976744186, 0.5341666666666668, 0.5306597222222222, 0.5567424242424243, 0.6144512195121952, 0.5768537414965987, 0.6547619047619048, 0.5326960784313726, 0.5743478260869567, 0.4686231884057972, 0.5618333333333334, 0.5200170068027211, 0.582463768115942, 0.5920833333333334, 0.5316666666666667, 0.5598550724637682, 0.5266843971631207, 0.5978333333333333, 0.6565079365079366, 0.5515123456790124, 0.6203472222222223, 0.5753666666666667, 0.5465476190476192, 0.5997826086956523, 0.6854674796747968, 0.5176136363636364, 0.5282986111111112, 0.5550862068965517, 0.5989705882352941, 0.6226515151515152, 0.5597380952380953, 0.5530416666666668, 0.4900170068027212, 0.5323979591836735, 0.4883771929824562, 0.5936437908496733, 0.5957748538011697, 0.5442424242424243, 0.587283950617284, 0.5098333333333334, 0.5909333333333334, 0.4903682170542636, 0.6445952380952381, 0.5238141025641027, 0.6043926553672317, 0.4947868217054264, 0.496808176100629, 0.5917592592592593, 0.5596839080459771, 0.6052500000000001, 0.5434126984126985, 0.5841666666666667]  # 第二段数据
data3 = [0.556578631452581, 0.6201183330475047, 0.6159736938253562, 0.624, 0.5500353825740822, 0.5877478991596639, 0.5244604376404027, 0.5868084553408992, 0.6231874531991014, 0.5621189120809614, 0.628351856871781, 0.4565224387627391, 0.5013436342278847, 0.578172268907563, 0.6520079610791685, 0.6464116780732911, 0.5374807795458609, 0.6079426253259925, 0.5888235294117647, 0.6238424600609475, 0.5168415244885833, 0.6299602421613807, 0.5240496648097441, 0.6069549109966568, 0.5957685009487665, 0.6438060224089637, 0.5886262331019365, 0.5884313725490196, 0.5758172946597995, 0.5410291858678955, 0.5938603482630165, 0.7190470230645449, 0.5655683325961964, 0.5828466386554623, 0.6345751633986928, 0.6031446262715612, 0.5694024276377218, 0.5990231092436975, 0.6178031212484993, 0.5795592522723375, 0.6016331750091342, 0.6311834733893558, 0.5763865546218487, 0.6295378151260504, 0.6667778626602157, 0.5424250912486206, 0.5527521008403362, 0.6094604157452455, 0.597823700908935, 0.5960718755587342]
data4 = [0.5921388888888889, 0.555828125, 0.5566621621621622, 0.5348385416666668, 0.558, 0.643154970760234, 0.5188790849673203, 0.6010277777777778, 0.6054848484848485, 0.5582005649717515, 0.4750630630630631, 0.5466717171717173, 0.5477407407407408, 0.555, 0.46080769230769236, 0.49075, 0.5687288557213931, 0.6112777777777778, 0.5419576271186441, 0.5764883040935673, 0.5832152777777778, 0.540546511627907, 0.5568333333333334, 0.5370537634408603, 0.5558071895424838, 0.5365833333333334, 0.5461944444444445, 0.5415000000000001, 0.4876617647058824, 0.5959550264550265, 0.6112708333333333, 0.5055277777777778, 0.5247651515151516, 0.5843870056497176, 0.5237820512820514, 0.5596543209876544, 0.569437106918239, 0.5311919191919192, 0.5384473684210527, 0.5503695652173913, 0.4848508771929825, 0.6509722222222223, 0.5807573099415205, 0.5786056910569106, 0.5066857923497269, 0.6083141025641027, 0.5299569892473119, 0.5439298245614036, 0.5092058823529413, 0.6035112994350283, 0.5156607142857144, 0.46988690476190487, 0.5356587700406796, 0.6116052631578949, 0.528686046511628, 0.44904545454545464, 0.5634130434782609, 0.5842126436781611, 0.5470730994152048, 0.5871149425287358, 0.5597678571428572, 0.5343697916666668, 0.5524239766081872, 0.6596724137931035, 0.5608513513513514, 0.6164387755102042, 0.5255937500000001, 0.5949074074074074, 0.5697040816326532, 0.5945490196078432, 0.6275246913580247, 0.5335123456790124, 0.573493710691824, 0.5699093567251462, 0.5570520833333333, 0.5222575757575758, 0.4910217391304348, 0.5600434782608696, 0.5638703703703704, 0.48416666666666675] 
data5 = [0.5798627002288329, 0.6332300884955753, 0.6178514739229024, 0.6106795422031474, 0.5489443436176649, 0.5797619599659943, 0.6205744712764362, 0.5993159173380896, 0.5388274104063578, 0.5871218587008061, 0.5980010204660129, 0.6163381966036834, 0.5758973884623686, 0.583006703751248, 0.6119258006866737, 0.5430695850377204, 0.5617080139321508, 0.5838656166344094, 0.6001184585395112, 0.5709688636004425, 0.5370115658224499, 0.612251943301326, 0.6011756282126652, 0.6138330606042897, 0.6311650336803429, 0.5448888663204016, 0.5844162234855431, 0.551815373330136, 0.6161180707198406, 0.5890976896488995, 0.5640402404347982, 0.6102549167815274, 0.5825019069412662, 0.5920739178177195, 0.5577463451680273, 0.5779923558444685, 0.5746808571592277, 0.6120490110596117, 0.5576581451763389, 0.5971151992743353]

data6 = [0.5546050096339115, 0.5581809362114966, 0.5584644821043832, 0.5754381815792932, 0.584147553047958, 0.5781076867729944, 0.5494507510606582, 0.574131607335491, 0.5873899613899615, 0.5628517110266161, 0.5466932685634975, 0.5285644720165432, 0.6118780965549028, 0.571591459721381, 0.5832677786075846, 0.544754395167431, 0.5798864132809087, 0.594326313987331, 0.529494176951156, 0.5647099087353324, 0.5910515116869919, 0.5700428849902535, 0.568403102684068, 0.5496397437590808, 0.5493671046784739, 0.5413655289887073, 0.5922908434007, 0.5544637294170005, 0.5400851560719983, 0.5378301886792453, 0.6154555121081156, 0.577041791219741, 0.5319592784425791, 0.5810475602595565, 0.5341116988905015, 0.5676600191279092, 0.5403260744325383, 0.5369135318704285, 0.5595183395851883, 0.5824668814894379]
data7 = [0.5548188659073153, 0.5514925638318997, 0.5687146076222201, 0.5822144946509298, 0.5942312606473594, 0.6002199357613371, 0.5302411167512691, 0.5752410409556313, 0.5685826876836763, 0.5372540718019614, 0.5698554805582012, 0.5378616745599142, 0.5262442396313364, 0.5705604852057106, 0.5599778378617969, 0.5794609994448693, 0.5153580117163933, 0.5716848097473285, 0.5525454920300784, 0.5716826985571299, 0.547910906788409, 0.5601910507792861, 0.5589981967541575, 0.5915180102915952, 0.5592083978661161, 0.5692261638816907, 0.5743230720819453, 0.5857303436566945, 0.5568860580325549, 0.5650308341447583, 0.5745107621919519, 0.5733748504055671, 0.5505814950249026, 0.5829761720392044, 0.5305249524764472, 0.5817697256724154, 0.5791397505596418, 0.5564128163454841, 0.5356457336194091, 0.5804460208741031]
data8 = [0.5306308031439959, 0.5977979006172006, 0.6088451086956522, 0.5799149697918998, 0.5271038393282258, 0.5569289474758193, 0.5066390770002509, 0.5798046833980889, 0.6242693931296232, 0.5499392071238977, 0.5273568418203611, 0.5689957264957265, 0.5287982832618026, 0.5820825888824204, 0.5648769762747097, 0.5872953632407099, 0.581744555353902, 0.575980562579014, 0.5859399973797983, 0.5488507169682486, 0.5772682813227761, 0.5538694402164721, 0.5469773552824794, 0.5194047931426572, 0.562904342094422, 0.6008747563352828, 0.563403237674761, 0.5260478186760031, 0.5917038852578068, 0.5678010773374376, 0.5481619558154646, 0.5162474969963957, 0.5226431683324463, 0.5590526525727961, 0.5834828234828235, 0.5381624401423541, 0.5469096295060081, 0.5193275488069414, 0.5926486342910267, 0.5766310748721931]
# 计算方差
variance1 = statistics.variance(data1)
variance2 = statistics.variance(data2)
variance3 = statistics.variance(data3)
#variance4 = statistics.variance(data4)

# 打印方差值
print("Data1 Variance:", variance1)
print("Data2 Variance:", variance2)
print("Data3 Variance:", variance3)
#print("Data4 Variance:", variance4)

# 创建箱线图，设置图形大小为6x9英寸
fig, ax = plt.subplots(figsize=(9,6))

# 绘制箱线图，设置patch_artist=True以允许填充箱体颜色
bp = ax.boxplot([data1, data2, data3, data4, data5, data6, data7, data8], patch_artist=True, medianprops=dict(color='black', linewidth=2))

# 统一设置每个箱体的颜色
uniform_color = '#7A378B'  # 选择统一颜色
for patch in bp['boxes']:
    patch.set_facecolor(uniform_color)

# 设置x轴和y轴的标签，增大字体大小
#ax.set_xticklabels(['RT', 'RPT', 'DRT', 'D-DRT'], fontsize=16)
ax.tick_params(axis='y', labelsize=20)  # 增大y轴字体大小

# 设置y轴的具体刻度值
ax.set_yticks([0.45,0.5,0.55,0.6,0.65,0.6,0.65,0.7])

plt.ylabel('APFD', fontsize=24)
plt.tick_params(axis='both', which='major', labelsize=20)
plt.xticks(rotation=45)
plt.xlabel('m', fontsize=24)
plt.tight_layout()

# 计算平均值
means = [statistics.mean(data1), statistics.mean(data2), statistics.mean(data3), statistics.mean(data4), statistics.mean(data5), statistics.mean(data6), statistics.mean(data7), statistics.mean(data8)]
mean_of_all = statistics.mean(means)
ax.axhline(y=0.50919018573, color='black', linestyle='--')

print(mean_of_all)

# 关闭坐标轴的网格线
ax.grid(False)

plt.show()
